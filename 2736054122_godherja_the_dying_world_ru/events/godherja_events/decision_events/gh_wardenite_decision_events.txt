namespace = wardenite_decisions

wardenite_decisions.0001 = {
	type = character_event
	title = wardenite_decisions.0001.t
	desc = wardenite_decisions.0001.desc
	theme = faith
	left_portrait = {
		character = root
		animation = personality_rational
	}
	right_portrait = {
		character = scope:triumphant_mamur
		animation = personality_rational
	}
	immediate = {
		title:e_central_mamuramat = {
			holder = {
				save_scope_as = triumphant_mamur
			}
		}
	}
	option = {	#submit
		ai_chance = {
			base = 20
			modifier = {
				title:e_central_mamuramat = {
					has_variable = kotserion_retaken_gen_1
				}
				add = 15
			}
			modifier = {
				title:e_central_mamuramat = {
					has_variable = kotserion_retaken_gen_2
				}
				add = 10
			}
			modifier = {
				title:e_central_mamuramat = {
					has_variable = kotserion_retaken_gen_3
				}
				add = 5
			}
			modifier = {
				title:e_central_mamuramat = {
					has_variable = sianna_retaken_gen_1
				}
				add = 15
			}
			modifier = {
				title:e_central_mamuramat = {
					has_variable = sianna_retaken_gen_2
				}
				add = 10
			}
			modifier = {
				title:e_central_mamuramat = {
					has_variable = sianna_retaken_gen_3
				}
				add = 5
			}
			modifier = {
				title:e_central_mamuramat = {
					has_variable = gahzi_retaken_gen_1
				}
				add = 15
			}
			modifier = {
				title:e_central_mamuramat = {
					has_variable = gahzi_retaken_gen_2
				}
				add = 10
			}
			modifier = {
				title:e_central_mamuramat = {
					has_variable = gahzi_retaken_gen_3
				}
				add = 5
			}
			modifier = {
				title:e_central_mamuramat = {
					has_variable = skiadhadhes_retaken_gen_1
				}
				add = 15
			}
			modifier = {
				title:e_central_mamuramat = {
					has_variable = skiadhadhes_retaken_gen_2
				}
				add = 10
			}
			modifier = {
				title:e_central_mamuramat = {
					has_variable = skiadhadhes_retaken_gen_3
				}
				add = 5
			}
			modifier = {
				title:e_central_mamuramat = {
					has_variable = chegea_retaken_gen_1
				}
				add = 15
			}
			modifier = {
				title:e_central_mamuramat = {
					has_variable = chegea_retaken_gen_2
				}
				add = 10
			}
			modifier = {
				title:e_central_mamuramat = {
					has_variable = chegea_retaken_gen_3
				}
				add = 5
			}
			modifier = {
				title:e_central_mamuramat = {
					has_variable = almubid_retaken_gen_1
				}
				add = 15
			}
			modifier = {
				title:e_central_mamuramat = {
					has_variable = almubid_retaken_gen_2
				}
				add = 10
			}
			modifier = {
				title:e_central_mamuramat = {
					has_variable = almubid_retaken_gen_3
				}
				add = 5
			}
			modifier = {
				scope:triumphant_mamur = {
					has_trait = theologian
				}
				add = 10
			}
			modifier = {
				scope:triumphant_mamur = {
					has_trait = august
				}
				add = 10
			}
			modifier = {
				scope:triumphant_mamur = {
					has_trait = diplomat
				}
				add = 5
			}
			modifier = {
				AND = {
					scope:triumphant_mamur = {
						has_trait = sadistic
					}
					has_trait = brave
				}
				add = -15
			}
			modifier = {
				AND = {
					scope:triumphant_mamur = {
						has_trait = ambitious
					}
					has_trait = arrogant
				}
				add = -10
			}
			modifier = {
				AND = {
					scope:triumphant_mamur = {
						has_trait = content
					}
					has_trait = humble
				}
				add = 5
			}
			modifier = {
				AND = {
					scope:triumphant_mamur = {
						has_trait = just
					}
					has_trait = arbitrary
				}
				add = -5
			}
			modifier = {
				AND = {
					scope:triumphant_mamur = {
						has_trait = sadistic
					}
					has_trait = arbitrary
				}
				add = 5
			}
			modifier = {
				AND = {
					scope:triumphant_mamur = {
						has_trait = fickle
					}
					has_trait = arbitrary
				}
				add = 5
			}
			modifier = {
				AND = {
					scope:triumphant_mamur = {
						has_trait = just
					}
					has_trait = just
				}
				add = 5
			}
			modifier = {
				AND = {
					scope:triumphant_mamur = {
						has_trait = arrogant
					}
					has_trait = craven
				}
				add = 5
			}
			modifier = {
				AND = {
					scope:triumphant_mamur = {
						has_trait = sadistic
					}
					has_trait = craven
				}
				add = 15
			}
			modifier = {
				has_trait = ambitious
				add = -20
			}
			modifier = {
				faith = faith:sarradonian
				add = 20
			}
			modifier = {
				has_trait = arrogant
				add = -10
			}
			modifier = {
				has_trait = content
				add = 5
			}
			modifier = {
				has_trait = humble
				add = 5
			}
			modifier = {
				has_trait = stubborn
				add = -10
			}
			modifier = {
				has_trait = brave
				add = -10
			}
			modifier = {
				has_trait = craven
				add = 10
			}
			modifier = {
				scope:triumphant_mamur = {
					diplomacy >= 25
				}
				add = 5
			}
			modifier = {
				scope:triumphant_mamur = {
					diplomacy >= 20
				}
				add = 5
			}
			modifier = {
				scope:triumphant_mamur = {
					diplomacy >= 15
				}
				add = 5
			}
			modifier = {
				scope:triumphant_mamur = {
					diplomacy <= 10
				}
				add = -5
			}
			modifier = {
				scope:triumphant_mamur = {
					diplomacy <= 5
				}
				add = -5
			}
			modifier = {
				scope:triumphant_mamur = {
					diplomacy = 0
				}
				add = -5
			}
			modifier = {
				root = {
					has_title = title:k_khenemhat
				}
				add = -25
			}
			modifier = {
				root = {
					has_title = title:e_kekhenemhat
				}
				add = -10
			}
			modifier = {
				root = {
					has_title = title:e_ayyar
				}
				add = -35
			}
		}
		name = wardenite_decisions.0001.a
		custom_tooltip = wardenite_decisions.0001.a.tt
		root = {
			if = {
				limit = {
					has_title = title:e_ayyar
					NOR = {
						has_title = title:k_lahkoryun
						has_title = title:k_tayalhun
						has_title = title:k_barunkazeb
					}
				}
				create_dynamic_title = {
					tier = tier_kingdom
					name = k_dynamic_ayyar
				}
			}
			every_held_title = {
				limit = {
					tier = tier_empire
				}
				save_scope_as = destroyable_titles
				PREV = {
					destroy_title = scope:destroyable_titles
				}
			}
			every_vassal = {
				trigger_event = {
					id = wardenite_decisions.0001
					days = { 10 20 }
				}	
			}
		}
		create_title_and_vassal_change = {
                    type = swear_fealty
                    save_scope_as = change
                    add_claim_on_loss = no
                }
		change_liege = {
			liege = scope:triumphant_mamur
			change = scope:change
		}
		resolve_title_and_vassal_change = scope:change
	}
	option = { #refuse
		name = wardenite_decisions.0001.b
		custom_tooltip = wardenite_decisions.0001.b.tt
		ai_chance = {
			base = 80
			ai_value_modifier = {
                ai_energy = -0.5
                ai_sociability = 0.5
            }
		}
		every_held_title = {
			scope:triumphant_mamur = { make_claim_strong = prev }
		}
	}
}

wardenite_decisions.0002 = {
	type = character_event
	title = wardenite_decisions.0002.t
	desc = wardenite_decisions.0002.desc
	theme = faith
	left_portrait = {
		character = root
		animation = personality_rational
	}
	right_portrait = {
		character = scope:triumphant_mamur
		animation = personality_rational
	}
	immediate = {
		title:e_central_mamuramat = {
			holder = {
				save_scope_as = triumphant_mamur
			}
		}
	}
	option = {
		name = wardenite_decisions.0002.a
	}
}