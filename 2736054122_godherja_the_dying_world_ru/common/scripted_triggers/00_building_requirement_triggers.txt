######################################################################
# Government
######################################################################

building_requirement_tribal = {
	scope:holder = {
		has_government = tribal_government
	}
}

building_requirement_tribal_holding_in_county = {
	county = {
		any_county_province = {
			has_holding_type = tribal_holding
		}
	}
}

######################################################################
# Holding Level
######################################################################

building_requirement_castle_city_church = {
	trigger_if = {
		limit = { has_holding_type = castle_holding }
		has_building_or_higher = castle_$LEVEL$
	}
	trigger_else_if = {
		limit = { has_holding_type = city_holding }
		has_building_or_higher = city_$LEVEL$
	}
	trigger_else_if = {
		limit = { has_holding_type = church_holding }
		has_building_or_higher = temple_$LEVEL$
	}
	trigger_else = {
		custom_description = {
			text = "building_requirement_castle_city_church_failed"
			always = no
		}
	}
}

######################################################################
# Special
######################################################################

building_hall_of_heroes_requirement = {
	custom_description = {
		text = building_requirement_hall_of_heroes_failed
		has_variable = hall_of_heroes
		scope:holder = {
			OR = {
				has_religion = religion:gestanwoder_religion
				has_religion = religion:gethian_religion
				has_religion = religion:kakarataki_religion
				has_religion = religion:kardawai_religion
				has_religion = religion:salacad_religion
				has_religion = religion:samojitian_religion
				has_religion = religion:sjalvolki_religion
				has_religion = religion:apti_religion
				has_religion = religion:gallieni_religion
			}
		}
	}
}

building_university_requirement = {
	has_variable = university
}

######################################################################
# Terrain
######################################################################

building_common_tradeport_requirement_terrain = {
	is_coastal = yes
	#OR = {
	#	terrain = plains
	#	terrain = steppe
	#	terrain = desert
	#	terrain = drylands
	#	terrain = oasis
	#	terrain = farmlands
	#	terrain = floodplains
	#}
}

building_pastures_requirement_terrain = {
	OR = {
		terrain = farmlands
		terrain = marcher_farmlands
		terrain = plains
		terrain = marcher_plains
		terrain = steppe
		terrain = desert
		terrain = drylands
		terrain = oasis
		terrain = mountains
		terrain = marcher_mountains
		terrain = desert_mountains
		terrain = hills
		terrain = marcher_hills
		terrain = floodplains
		terrain = marcher_floodplains
		AND = {
			terrain = jungle
			NOT = { geographical_region = world_sarradon }
		}
	}
}

building_hunting_grounds_requirement_terrain = {
	OR = {
		terrain = plains
		terrain = marcher_plains
		terrain = drylands
		terrain = steppe
		terrain = hills
		terrain = marcher_hills
		terrain = taiga
		terrain = forest
		terrain = marcher_forest
		terrain = jungle
		terrain = wetlands
		terrain = marcher_wetlands
	}
}

building_orchards_requirement_terrain = {
	OR = {
		terrain = floodplains
		terrain = marcher_floodplains
		terrain = oasis
	}
}

building_farm_estates_requirement_terrain = {
	terrain = farmlands
}

building_military_camps_requirement_terrain = {
	OR = {
		terrain = farmlands
		terrain = marcher_farmlands
		terrain = plains
		terrain = marcher_plains
		terrain = drylands
		terrain = desert
		terrain = oasis
		terrain = floodplains
		terrain = marcher_floodplains
		terrain = steppe
		terrain = mountains
		terrain = marcher_mountains
		terrain = desert_mountains
		terrain = wetlands
		terrain = marcher_wetlands
		terrain = forest
		terrain = marcher_forest
		terrain = taiga
		terrain = jungle
		terrain = hills
		terrain = marcher_hills
	}
}

building_regimental_grounds_requirement_terrain = {
	OR = {
		terrain = floodplains
		terrain = marcher_floodplains
		terrain = farmlands
		terrain = marcher_farmlands
	}
}

building_ramparts_requirement_terrain = {
	OR = {
		terrain = taiga
		terrain = forest
		terrain = marcher_forest
	}
}

building_curtain_walls_requirement_terrain = {
	OR = {
		terrain = farmlands
		terrain = marcher_farmlands
		terrain = plains
		terrain = marcher_plains
		terrain = wetlands
		terrain = marcher_wetlands
	}
}

building_watchtowers_requirement_terrain = {
	OR = {
		terrain = desert
		terrain = drylands
		terrain = oasis
		terrain = floodplains
		terrain = marcher_floodplains
		terrain = jungle
		terrain = steppe
	}
}

building_cereal_fields_requirement_terrain = {
	OR = {
		terrain = farmlands
		terrain = marcher_farmlands
		terrain = plains
		terrain = marcher_plains
		terrain = drylands
		terrain = floodplains
		terrain = marcher_floodplains
	}
}

building_outposts_requirement_terrain = {
	OR = {
		terrain = steppe
		terrain = wetlands
		terrain = marcher_wetlands
		terrain = taiga
		terrain = forest
		terrain = marcher_forest
		terrain = jungle
		terrain = mountains
		terrain = marcher_mountains
		terrain = desert_mountains
		terrain = desert
	}
}

building_barracks_requirement_terrain = {
	OR = {
		terrain = farmlands
		terrain = marcher_farmlands
		terrain = plains
		terrain = marcher_plains
		terrain = drylands
		terrain = hills
		terrain = marcher_hills
		terrain = mountains
		terrain = marcher_mountains
		terrain = forest
		terrain = marcher_forest
		terrain = taiga
		terrain = jungle
		terrain = wetlands
		terrain = marcher_wetlands
		terrain = steppe
	}
}

building_camel_farms_requirement_terrain = {
	OR = {
		terrain = desert
		terrain = desert_mountains
		terrain = oasis
		terrain = floodplains
		terrain = marcher_floodplains
	}
	geographical_region = world_sarradon
}

building_logging_camps_requirement_terrain = {
	OR = {
		terrain = taiga
		terrain = forest
		terrain = marcher_forest
		terrain = jungle
	}
}

building_peat_quarries_requirement_terrain = {
	terrain = wetlands
}

building_hill_farms_requirement_terrain = {
	terrain = hills
}

building_elephant_pens_requirement_terrain = {
	terrain = jungle
	geographical_region = world_sarradon
}

building_plantations_requirement_terrain = {
	OR = {
		terrain = drylands
		terrain = desert
		terrain = oasis
	}
}

building_quarries_requirement_terrain = {
	OR = {
		terrain = mountains
		terrain = marcher_mountains
		terrain = desert_mountains
	}
}

building_hill_forts_requirement_terrain = {
	OR = {
		terrain = mountains
		terrain = marcher_mountains
		terrain = desert_mountains
		terrain = hills
		terrain = marcher_hills
	}
}

######################################################################
# Baronies that cannot have a holding (intended for Sahara)
######################################################################

barony_cannot_construct_holding = {
	OR = {
		barony = title:b_hamadat_tinghert
		barony = title:b_tidikelt
		barony = title:b_wadi_irawan
		barony = title:b_erg_ghati
	}
}

######################################################################
# You shouldn't be able to hold everything and get by with MaA/Knights
######################################################################

building_disable_if_vastly_over_domain_limit_trigger = {
	custom_description = {
		text = vastly_over_domain_limit_trigger
		scope:holder = {
			trigger_if = {
				limit = {
					is_ai = no
				}
				domain_size_excluding_grace_period < building_disable_inefficient_value
			}
		}
	}
}
